---
title: "Proxmox VE: インストール手順ガイド"
emoji: "🏪"
type: "tech"
topics: ["自宅サーバ", "環境構築", "Proxmox", "pve" ]
published: true
---

## はじめに

`atsushifx`です。
この記事では、`Proxmox VE`のインストール手順をスクリーンショット付きで詳しく解説します。

前回までの記事で、[BIOSの設定](dev-proxmox-setup-configbios)、[インストーラーの作成](dev-proxmox-setup-installmedia)を行ないました。今回は、実際に`Proxmox VE`をインストールします。

この記事を参考にすることで、スクリーンショットを確認しながら簡単に`Proxmox VE`をインストールできます。

:::message alert
**注意**:
記事で使用しているスクリーンショットは仮想環境(`Hyper-V`)で撮影されたものです。
そのため、画面の配置や一部の設定方法が物理環境とは異なる場合があります。
:::

## 技術用語

この記事に乗っている技術用語を解説します。

- `Proxmox VE`:
  `KVM`(`Kernel-based Virtual Machine`)仮想マシンと`LXC`(`Linux Containers`)コンテナを管理するオープンソースの仮想化プラットフォーム

- `KVM` (`Kernel-based Virtual Machine`):
  高性能な仮想マシンを提供する、Linux カーネルの仮想化モジュール

- `LXC` (`Linux Containers`):
  OS レベルでの仮想化を行なう、軽量なコンテナ技術

- `BIOS`/`UEFI`:
  コンピューターの基本設定を管理するファームウェア (例: 起動デバイスの優先順位設定)

- `DNS` (`Domain Name System`):
  ホスト名を`IPアドレス`に変換するシステム (例: `pve.local` → `192.168.14.223`)

- `EULA` (`End User License Agreement`):
  ソフトウェアのインストール時に表示されるライセンス契約

- `Hyper-V`:
  マイクロソフト社が提供している仮想化プラットフォーム

## 1. 事前準備

### 1.1 ホスト名の設定

インストールした`Proxmox VE`に名前でアクセスできるよう、ルーターに静的アドレスとホスト名を設定します。
例として、`TUF GAMING AX6000`では、`LAN`-`DHCPサーバー`から`IPアドレス`を設定できます。

![静的IPアドレス設定](/images/articles/pve-install/ss-router-dhcp.jpg)
*静的`IPアドレス`設定*

:::message alert
**注意**:
設定手順が製品によって異なるため、静的 IP アドレスの設定は製品マニュアルを参照してください。
:::

以下のように設定します。

| クライアント名 | `MACアドレス` | `IPアドレス` | `DNSサーバー` | `ホスト名` |
| --- | --- | --- | --- | --- |
| `Microsoft` | `00:15:5D:0E:1D:04` | `192.168.14.223` | 未設定 | `pve` |

:::message
**重要事項**:

- `MACアドレス`はクライアントを選択すると、自動的に入力されます。
- `Hyper-V`仮想マシンのため、クライアント名が`Microsoft`になっています。
- `DNSサーバー`が未設定の場合は、ルーターの`DNS`設定を利用します。

:::

### 1.2 BIOS設定

PC の`BIOS`または`UEFI`の設定を変更して、USBメモリから起動するように優先順位を変更します。
詳しい方法は、[インストーラー起動のためのBIOS設定](dev-proxmox-setup-configbios.md)を参照してください。

### 1.3 インストールメディア作成

`Proxmox VE`インストーラーを作成します。
作成方法は、[インストールメディア作成](dev-proxmox-setup-installmedia.md)を参照してください。

## 2. インストール

### 2.1 `Proxmox VE`のインストール手順

次の手順で、`Proxmox VE`をインストールします。

1. インストーラーの起動:
   PC を USBメモリで起動し、`Proxmox VE`インストーラー画面を開く。
   ![`インストーラー`](/images/articles/pve-install/ss-01-installer.jpg)
   *`Proxmox VE`インストーラーのタイトル画面*

   :::message
   **注意**:
   事前準備で`BIOS`設定を変更しているため、挿入した`USBメモリ`内の`Proxmox VE`インストーラーが起動します。
   :::

2. インストーラーの選択
   タイトル画面で`Terminal UI`オプションを選択し、[Enter]キーを押す。
   インストーラーが起動する。
   ![`ブート`](/images/articles/pve-install/ss-02-booting.jpg)
   *ブート中*

3. ライセンスの確認
   `EULA`が表示されます。ライセンスの内容を確認後、`I agree`を選択してライセンスに同意する。
   ![`EULA`](/images/articles/pve-install/ss-03-eula.jpg)
   *ライセンス確認*

4. インストールディスクの設定:
   `Proxmox VE`をインストールするディスクを選択する。
   ![インストール先](/images/articles/pve-install/ss-04-disk.jpg)
   *インストール先 設定*

   :::message
   **重要事項**:
   インストール先ディスクのデータがすべて消去されるため、専用ディスクを用意してください。
   :::

5. リージョンの設定:
   国、タイムゾーン、キーボードレイアウトを設定する。
   ![リージョン設定](/images/articles/pve-install/ss-05-region.jpg)
   *リージョン設定*

   今回は、次のように設定した。

   | 項目 | 設定 |
   | --- | --- |
   | Country | `Japan` |
   | Timezone | `Asia/Tokyo` |
   | Keyboard layout | `Japanese` |

   日本リージョンを選択することで PC の時刻を日本時間に合わせることができる。

6. 管理者の設定:
   管理者(`root`)のパスワード、および`Eメール`を設定する。
   ![管理者設定](/images/articles/pve-install/ss-06-root.jpg)
   *管理者設定*

   :::message
   **パスワード設定**:
   パスワードは、以下の要件を満たしてください。
   - 英大文字、小文字、数字を含む
   - 8文字以上
   - ほかのアカウントで使用していないもの
   :::

7. ネットワークの設定:
   `Proxmox VE`のホスト名、`IPアドレス`などを設定する。
   事前準備で設定済みの場合、ホスト名などの項目は自動的に設定される。
   ![ネットワーク設定](/images/articles/pve-install/ss-07-network.jpg)
   *ネットワーク設定*

   今回の場合、次のようになります。

   | 項目 | 設定 | 備考 |
   | --- | --- | --- |
   | `Hostname` | `pve.local` | |
   | `IPアドレス` | `192.168.14.223 / 24` | |
   | `Gateway` | `192.168.14.254` | ルーターの`IPアドレス` |
   | `DNS` | `192.168.1.1` | ルーターの設定した`DNS`の`IPアドレス` |

8. 設定の最終確認:
   ここまでの設定が表示されます。問題がなければ、`Install`を選択する。
   ![設定確認](/images/articles/pve-install/ss-08-check.jpg)
   *設定 最終確認*

9. インストールの実行:
   インストールを実行する。
   ![インストール](/images/articles/pve-install/ss-09-installing.jpg)
   *インストール中*

10. `Proxmox VE`の再起動:
    インストールが正常に終了した場合、PC が再起動する。

    :::message alert
    **注意**:
    - PC からインストールメディア(USBメモリまたは`ISOイメージ`)を必ず取り外してください。
    - 取り外さない場合、再起動後にインストーラーが再び起動します。
    :::

    PC の再起動後、`Proxmox VE`が起動してログイン画面が表示される。
    ![ログイン](/images/articles/pve-install/ss-10-boot.jpg)
    *ログイン画面*

11. `Webインターフェース`の確認:
    `Proxmox VE`が正常に起動した場合は、`Web`から`Proxmox VE`のコントロール画面にアクセスできる。
    <https://pve:8006> にアクセスし、Web インターフェイス画面が表示されるか確認する。

    ![`Webインターフェイス`](/images/articles/pve-install/ss-11-web.jpg)
    *Webインターフェイス*

以上で、`Proxmox VE`のインストールは完了です。

## 3. トラブルシューティング

### 3.1 インストール時のトラブル

**[`1-001`]** インストーラーが起動しない (`BIOS`設定):

- **確認事項**: `BIOS`設定で、`USBデバイス`が優先的に起動するよう設定されているか確認。
- **原因**: 起動デバイスの優先順位が間違っている。
- **対策**: [BIOSの設定](dev-proxmox-setup-configbios)を参考に設定を変更。

**[`1-002`]** インストーラーが起動しない (`USBポート`のチェック):

- **確認事項**: インストールメディアが差し込まれている USBポートが正常か確認。
- **原因**: ポートが対応していない、または破損している可能性。
- **対策**: 別の USBポートを使用して再試行。

**[`1-003`]** インストーラーが起動しない (インストールメディアのチェック):

- **確認事項**: 使用している USB メディアが正常に動作するか確認。
- **原因**: メディアが壊れている、または作成時にエラーが発生している可能性。
- **対策**: [インストールメディア作成](dev-proxmox-setup-installmedia)を参考に作りなおす。

**[`1-004`]** `IPアドレス`が空白になる:

- **確認事項**: ネットワーク設定で必要な項目が入力されているか確認。
- **原因**: ルーターとの接続エラーや `DHCPサーバー`が動作していない可能性。
- **対策**: ネットワーク接続を確認し、ルーター側の`DHCP`設定を再確認。

### 3.2 起動時のトラブル

**[`2-001`]** サーバーが起動しない:

- **確認事項**: 起動時に表示されるエラーメッセージを確認。
- **対策**: `Proxmox VE`の再インストールを試行。

**[`2-002`]** ネットワーク接続ができない:

- **確認事項**: `ping <IPアドレス>`でサーバーと通信できるか確認。
- **対策**: ネットワークケーブルが正しく接続されているか確認し、必要であれば交換。

**[`2-003`]** `DNS`設定に問題がある:

- **確認事項**: `nslookup <ホスト名>`または`dig <ホスト名>`で`DNS`設定を確認。
- **対策**: ルーターの`DNS`設定を見直し、必要に応じて再設定。

**[`2-004`]** Web インターフェイスにアクセスできない:

- **確認事項**: 入力した`URL`が正しいか確認。
- **対策**: サーバーログイン画面上の URL と比較し、正しい URL を使用。

**[`2-005`]** ファイアウォールがアクセスをブロックしている:

- **確認事項**: サーバーへのアクセスがファイアウォールで制限されていないか確認。
- **対策**: ファイアウォール設定を確認し、必要に応じてルールを修正。

## おわりに

以上で、`Proxmox VE`のインストールは終了です。
この記事では、インストール手順をスクリーンショット付きで解説しました。
この記事を参考にすれば、スクリーンショットを確認しながらスムーズに`Proxmox VE`をインストールできるでしょう。
次回は、管理者アカウント(`root`)以外の新規アカウントを作成し、セキュリティ向上や操作の安全性を高める手段を説明します。

それでは、Happy Hacking!
